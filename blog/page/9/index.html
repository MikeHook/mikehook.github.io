<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>baking websites</title>
	<meta name="author" content="Hook Technologies Ltd">


	<meta name="description"
		content="Feb 2nd, 2010 Hacking Comments Recipe Stash Homepage Visuals I ve finished updating the mock-up for the recipe stash home page and converted it into &hellip;">


	<!-- http://t.co/dKP3o1e -->
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="baking websites" type="application/atom+xml">

	<link rel="canonical" href="https://bakingwebsites.co.uk/blog/page/9/">
	<link href="https://bakingwebsites.co.uk/favicon.png" rel="shortcut icon">
	<link href="https://bakingwebsites.co.uk/stylesheets/screen.css" media="screen, projection" rel="stylesheet"
		type="text/css">
	<link href="https://bakingwebsites.co.uk/stylesheets/font-awesome.min.css" media="screen, projection"
		rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
	<!--
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> 
-->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700" rel="stylesheet"
		type="text/css">


	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-47738964-1']);
		_gaq.push(['_trackPageview']);

		(function () {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner">
					<div class="profilepic">
						<img src="/images/bread-Sq-zoom-150.jpg" alt="Profile Picture" style="width: 160px;" />
					</div>
					<hgroup>
						<h1><a href="https://bakingwebsites.co.uk/">baking websites</a></h1>

						<h2>adventures in software development</h2>

					</hgroup>

					<nav id="main-nav">
						<h3>categories</h3>
						<ul class="main-navigation">
							<li class='category'><a href='/blog/categories/hacking/'>Hacking</a>[ 22 ]</li>
							<li class='category'><a href='/blog/categories/progress/'>Progress</a>[ 6 ]</li>
							<li class='category'><a href='/blog/categories/software-design/'>Software Design</a>[ 15 ]
							</li>
							<li class='category'><a href='/blog/categories/testing/'>Testing</a>[ 2 ]</li>
							<li class='category'><a href='/blog/categories/tips-and-tricks/'>Tips and Tricks</a>[ 10 ]
							</li>

						</ul>
						<br />
						<a href="https://bakingwebsites.co.uk/blog/archives">Archives</a>


					</nav>
					<nav id="sub-nav">
						<div class="social">




							<a class="twitter" href="http://twitter.com/michael_hook" title="Twitter">Twitter</a>


							<a class="github" href="https://github.com/MikeHook" title="GitHub">GitHub</a>









							<a class="rss" href="/atom.xml" title="RSS">RSS</a>

						</div>
					</nav>
				</header>
			</div>
		</div>
		<div class="mid-col">



			<div class="mid-col-container">
				<div id="content" class="inner">
					<div itemscope itemtype="http://schema.org/Blog">


						<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
							<div class="meta">
								<div class="date">











									<time datetime="2010-02-02T08:49:00+00:00" data-updated="true"
										itemprop="datePublished">Feb 2<span>nd</span>, 2010</time>
								</div>
								<div class="tags">


									<a class='category'
										href='https://bakingwebsites.co.uk/blog/categories/hacking/'>Hacking</a>


								</div>

								<span class="comments"><a
										href="https://bakingwebsites.co.uk/2010/02/02/recipe-stash-homepage-visuals/#disqus_thread">Comments</a></span>

							</div>
							<h1 class="title" itemprop="name"><a
									href="https://bakingwebsites.co.uk/2010/02/02/recipe-stash-homepage-visuals/"
									itemprop="url">Recipe Stash Homepage Visuals</a></h1>
							<div class="entry-content" itemprop="articleBody">
								<p>I ve finished updating the mock-up for the recipe stash home page and converted it
									into a web page. There is a screen grab of the page below, unfortunately you can t
									poke around the HTML and CSS but believe me it is all there! In this post I m going
									to outline the decisions I ve taken for the visual design of the page. The next post
									will go into the considerations I ve taken to ensure the site will be standards
									compliant and work across all the major browsers. If that sounds a bit dry don t
									worry I ll be adding in some cheesy headings for your entertainment.</p>
								</p>

								<table style="width:auto;">
									<tbody>
										<tr>
											<td><a
													href="http://picasaweb.google.com/lh/photo/8nH-_cfzbS3Wio7y4hrQQw?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=embedwebsite"><img
														src="http://lh6.ggpht.com/_5hQeqbPSrks/S2XR_Y8L0jI/AAAAAAAAAEE/xqw-y6LPaPo/s400/recipestash-home.jpg" /></a>
											</td>
										</tr>
										<tr>
											<td style="text-align:right;font-family:arial, sans-serif;font-size:11px;">
												From <a
													href="http://picasaweb.google.com/hook.mike/BakingWebsites?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=embedwebsite">Baking
													Websites</a></td>
										</tr>
									</tbody>
								</table>




								<h4>Top to tail</h4>


								<p>The most immediate visual change you will probably notice, compared to the original
									mock-ups, is the header and footer background colour. This was a handy hint from the
									senior designer at <a href="http://www.cubeworks.co.uk">Cubeworks</a>, so thanks
									Jesse! I much prefer how this breaks up the page and gives a clear separation
									between the main content and the rest of the page.</p>

								<h4>Press my buttons</h4>


								<p>I put a bit of time into making a big shiny Search button to use in the header. I
									found it surprisingly tricky to choose a button that draws attention to the user but
									doesn t stick out horribly from the rest of the design. I m not entirely happy with
									the selection but I think its good enough for now. Another button image can easily
									be dropped in latter if I feel the need.&#160;&#160;&#160;&#160;</p>

								<h4>Tabs for Navs</h4>


								<p>Another major change in the design (and another top tip from Jesse) is a move away
									from the vertical icon based navigation menu in favour of a horizontal tabbed menu.
									This is a more conventional means of user navigation and will probably be easier for
									them to understand. I m happy with how the visuals have turned out on the tabbed
									menu, keeping colours in line with the rest of the site and curved corners for a
									more current feel.</p>

								<h4>Heading Home</h4>


								<p>I ve retained the icons that were originally used on the navigation. They are now
									displayed to the left hand side of the main h1 page heading. These icons are one of
									the few graphical elements on the site so I m pleased that there is still a place
									for them here. I think they provide an immediate prompt to the user as to which
									section they are in, complimenting the nav menu highlighting and h1 heading text
									itself.</p>

								<h4>Colour me red</h4>


								<p>Although not really shown in the image above, the plan is to still use a different
									colour for each of the main sections, which will be most evident in the main
									navigation and heading colours. This point will be one to revisit once I ve
									completed the other section pages.</p>

								<p>&lt;</p>

								<p>p&gt;That just about wraps up the main visual changes for the home page.&#160; In the
									next post I ll be taking a look behind the scenes at the technical decisions I ve
									made to generate the page.</p>



							</div>

						</article>


						<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
							<div class="meta">
								<div class="date">











									<time datetime="2010-01-13T19:51:00+00:00" data-updated="true"
										itemprop="datePublished">Jan 13<span>th</span>, 2010</time>
								</div>
								<div class="tags">


									<a class='category'
										href='https://bakingwebsites.co.uk/blog/categories/hacking/'>Hacking</a>


								</div>

								<span class="comments"><a
										href="https://bakingwebsites.co.uk/2010/01/13/recipestash-design-mock-ups/#disqus_thread">Comments</a></span>

							</div>
							<h1 class="title" itemprop="name"><a
									href="https://bakingwebsites.co.uk/2010/01/13/recipestash-design-mock-ups/"
									itemprop="url">Recipestash Design Mock-ups</a></h1>
							<div class="entry-content" itemprop="articleBody">
								<p>The recipestash website is flush with a shiny new domain name, however it was sadly
									lacking in any kind of visual design. Up to now I ve been working with a generic
									style sheet downloaded from <a href="http://www.freecsstemplates.org/">free CSS
										templates</a> however I think it is poorly suited to the site. So I ve put some
									time into making some mock-ups in Photoshop. </p>
								</p>

								<p>I ve identified the site homepage, main search page and Add a recipe pages as the
									main areas to mock up. The remaining sections can be investigated later. The design
									mock-ups for each of the pages are shown below (full size versions can be viewed in
									the <a
										href="http://picasaweb.google.com/hook.mike/BakingWebsites?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=embedwebsite">Picasa
										web album</a>).</p>

								<h4><a
										href="http://picasaweb.google.com/lh/photo/SMxU9grhwyO-94vtTC6wlw?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=directlink">Home</a>
								</h4>




								<table style="width:auto;">
									<tbody>
										<tr>
											<td><a
													href="http://picasaweb.google.com/lh/photo/SMxU9grhwyO-94vtTC6wlw?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=embedwebsite"><img
														src="http://lh4.ggpht.com/_5hQeqbPSrks/S0oq83g-3mI/AAAAAAAAACU/Itr3eLIfQac/s400/home-5.png" /></a>
											</td>
										</tr>
										<tr>
											<td style="text-align:right;font-family:arial, sans-serif;font-size:11px;">
												From <a
													href="http://picasaweb.google.com/hook.mike/BakingWebsites?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=embedwebsite">Baking
													Websites</a></td>
										</tr>
									</tbody>
								</table>


								<p>I ve gone for a minimal design on the homepage, the header will be used across all
									pages on the site and includes the site name, main search bar and login controls for
									the current user. The main content on the homepage highlights each of the four
									sections on the site which will be used most often. I ve chosen a different colour
									for each of the main sections, hopefully this will give users a visual feel of where
									they are on the site. The four icons on the left will be displayed on all of the
									pages and be used as the main means of navigation. I ll be looking to use some
									jQuery to display the section names when each of the icons is hovered over. If
									javascript is not available in the browser then a simple navigation menu will be
									displayed in the header.</p>

								<h4><a
										href="http://picasaweb.google.com/lh/photo/rGAahgUi9lxqrOS69MuHoQ?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=directlink">Browse
										recipes</a></h4>




								<table style="width:auto;">
									<tbody>
										<tr>
											<td><a
													href="http://picasaweb.google.com/lh/photo/rGAahgUi9lxqrOS69MuHoQ?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=embedwebsite"><img
														src="http://lh6.ggpht.com/_5hQeqbPSrks/S04japbJMsI/AAAAAAAAAC0/sW00NCbkFyc/s400/browse-2.png" /></a>
											</td>
										</tr>
										<tr>
											<td style="text-align:right;font-family:arial, sans-serif;font-size:11px;">
												From <a
													href="http://picasaweb.google.com/hook.mike/BakingWebsites?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=embedwebsite">Baking
													Websites</a></td>
										</tr>
									</tbody>
								</table>


								<p>The Browse recipes page can be reached from either the navigation menu or the search
									bar. The main features of the page are:</p>

								<h5>Search keywords</h5>


								<p>If the page has been reached from a search the top section displays the keywords
									which have been searched for. Each of these can be removed from the search by
									pressing the x icon next to the keyword.</p>

								<h5>Filters </h5>


								<p>Each of the filters are a simple checkbox, which will cause the results to display
									only those matching the filters. I may include an apply filters button for
									accessibility as performing a postback on the checkbox selection would most likely
									require some javascript to operate.</p>

								<h5>List of recipes </h5>


								<p>The list of recipes will include summary information for each of the recipes, as
									shown in the mock-up above. The ordering of the recipes can be controlled by
									clicking on the column headings. I will look to colour one of the headings to
									indicate which is currently being used to order the results.</p>

								<h5>More recipes link </h5>


								<p>Clicking the link will cause more recipes to be loaded to the bottom of the search
									results.&#160;&#160;</p>

								<h4><a
										href="http://picasaweb.google.com/lh/photo/cC7X3M6u_Jo1M_AuXDawQw?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=directlink">Add
										a recipe</a></h4>




								<table style="width:auto;">
									<tbody>
										<tr>
											<td><a
													href="http://picasaweb.google.com/lh/photo/cC7X3M6u_Jo1M_AuXDawQw?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=embedwebsite"><img
														src="http://lh4.ggpht.com/_5hQeqbPSrks/S0pHr70y72I/AAAAAAAAACw/f6YE3GYZR-0/s400/add-recipe-1.png" /></a>
											</td>
										</tr>
										<tr>
											<td style="text-align:right;font-family:arial, sans-serif;font-size:11px;">
												From <a
													href="http://picasaweb.google.com/hook.mike/BakingWebsites?authkey=Gv1sRgCL7W-eqGn5fIcA&amp;feat=embedwebsite">Baking
													Websites</a></td>
										</tr>
									</tbody>
								</table>


								<p>The functionality of the Add a recipe page is already largely complete. The above
									styling will need to be applied to the pages to format the form as displayed above.
									It may be tricky to apply the styling shown to the text boxes but there are other
									sites using similar effects so I can probably find some hints for the required CSS
									techniques from them!</p>

								<p>&lt;</p>

								<p>p&gt;Next up I will be looking to generate some HTML and CSS to match the mock-ups
									which can be used in the website views.</p>



							</div>

						</article>


						<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
							<div class="meta">
								<div class="date">











									<time datetime="2010-01-10T20:53:00+00:00" data-updated="true"
										itemprop="datePublished">Jan 10<span>th</span>, 2010</time>
								</div>
								<div class="tags">


									<a class='category'
										href='https://bakingwebsites.co.uk/blog/categories/hacking/'>Hacking</a>


								</div>

								<span class="comments"><a
										href="https://bakingwebsites.co.uk/2010/01/10/introducing-recipestash-net/#disqus_thread">Comments</a></span>

							</div>
							<h1 class="title" itemprop="name"><a
									href="https://bakingwebsites.co.uk/2010/01/10/introducing-recipestash-net/"
									itemprop="url">Introducing recipestash.net</a></h1>
							<div class="entry-content" itemprop="articleBody">
								<p>With the turn of the year disappearing behind us, I thought it was about time that
									the site I m developing got a proper identity. Initially I would of liked
									recipebook.com, but that is far too obvious a name to be left unclaimed, also I
									think its quite boring and sounds too similar to facebook. So my main criteria for
									the name were that it should be related to the content, engaging, easy to remember,
									not too derivative and of course available!</p>
								</p>

								<p>After plugging some names into the lookup tool the two front runners were
									recipestore.net and recipestash.net. I liked recipestore as it conveys the main idea
									of the site as a storage place for your recipes. However it can also be interpreted
									as meaning a shop for recipes, which is not ideal as the recipes will all be freely
									available on the site. So I settled on recipestash, which I think meets all the
									criteria and is less derivative than recipestore. In virtual celebration of the new
									domain here s a picture of a lovely looking muffin (Image shared under creative
									commons on Flickr by rachellake).</p>

								<p><a
										href="http://lh6.ggpht.com/_5hQeqbPSrks/S0pA-VC2-DI/AAAAAAAAACk/ApIIbuAxR84/s1600-h/muffin-rachellake%5B5%5D.jpg"><img
											title="muffin-rachellake" border="0" alt="muffin-rachellake"
											src="http://lh5.ggpht.com/_5hQeqbPSrks/S0pA-79n5tI/AAAAAAAAACo/vGJoHZjWy5A/muffin-rachellake_thumb%5B3%5D.jpg?imgmax=800"
											width="504" height="337" /></a>&#160;</p>

								<p>&lt;</p>

								<p>p&gt;Deciding on the domain also has a fringe benefit of motivating me to get on with
									the site! Its a bit of a waste not doing anything with the domain so I m going to
									try and get the site up as soon as possible with the core features. The site can be
									refined and updated with extra features after the initial release.</p>



							</div>

						</article>


						<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
							<div class="meta">
								<div class="date">











									<time datetime="2009-12-07T21:47:00+00:00" data-updated="true"
										itemprop="datePublished">Dec 7<span>th</span>, 2009</time>
								</div>
								<div class="tags">


									<a class='category'
										href='https://bakingwebsites.co.uk/blog/categories/testing/'>Testing</a>


								</div>

								<span class="comments"><a
										href="https://bakingwebsites.co.uk/2009/12/07/testing-code-coverage-with-ncover/#disqus_thread">Comments</a></span>

							</div>
							<h1 class="title" itemprop="name"><a
									href="https://bakingwebsites.co.uk/2009/12/07/testing-code-coverage-with-ncover/"
									itemprop="url">Testing Code Coverage With NCover</a></h1>
							<div class="entry-content" itemprop="articleBody">
								<p>I ve been developing the recipe book website mostly using TDD (Test Driven Design)
									and I thought it would be interesting to measure the code coverage of my unit tests.
									After researching what tools were available it looked like <a
										href="http://www.ncover.com/">NCover</a> was the best fit for the sites
									technology stack. The commercial version has some good features, such as measures
									for cyclomatic complexity, however it is a bit out of my budget (of approximately
									0!). Fortunately a <a href="http://www.ncover.com/download/community">community
										edition of NCover</a> is also available for free and it stills works just fine
									for analysing current .NET assemblies.</p>

								<p>After installing NCover a console application is available for running code coverage
									analysis. I got this up and running but the command line interface isn t exactly the
									most user friendly and the output is just a single summary report. I obviously wasn
									t alone in these conclusions because back in 2006 Grant Drake developed the <a
										href="http://www.kiwidude.com/blog/2006/01/ncoverexplorer-debut.html">NCoverExplorer
										tool</a> to provide a GUI front end to NCover. This tool also has a community
									edition available (version 1.4) that works with the community edition of NCover.</p>

								<h4>Starters - Setting up NCover Explorer</h4>


								<p>The tool is fairly straight forward to setup, the NCover website includes
									instructions on how to setup the professional edition to <a
										href="http://docs.ncover.com/how-to/running-ncover-with-your-unit-testing-framework/nunit/">profile
										an NUnit test project</a>, and the settings are equivalent in the community
									edition. I also chose to specify which assemblies should be included in the coverage
									report as otherwise all the Sharp Architecture assemblies are included and the
									results are skewed.</p>

								<p>After running the tool you are provided with an interactive view of the assemblies
									with the uncovered lines displayed in red. You can see how easy it is to identify
									the offending lines in the screen grab below:</p>

								<p><a style="margin-bottom:1em;margin-right:1em;"
										href="http://4.bp.blogspot.com/_5hQeqbPSrks/Sx15F3sFlqI/AAAAAAAAAA8/yrLagOXdmxc/s1600/NCoverExplorer2.jpg"><img
											src="http://lh3.ggpht.com/_5hQeqbPSrks/Sx1745WamzI/AAAAAAAAAB4/PAdEtdGUeBE/s800/NCoverExplorer2.jpg"
											border="0" alt="" /></a></p>

								<h4>The Main Course Improving code coverage</h4>


								<p>The results of my first report are shown below:</p>

								<p><a href="http://imageshack.com/a/img268/8057/6zqn.jpg"><img
											class="alignnone size-full wp-image-31" title="NCover Report"
											src="http://imageshack.com/a/img268/8057/6zqn.jpg" alt="" /></a></p>

								<p>The prime candidates for improvement were:</p>

								<ul>
									<li>The RecipeBook.Data assembly. A couple of repository classes were not tested.
									</li>
									<li>The RecipeBook.Web.Controllers assembly. Some of the code paths in the
										controller methods were not covered.</li>
									<li>The RecipeBook.ApplicationServices assembly. Not tested at all, oops!</li>
								</ul>


								<p>By default NCover sets the acceptable coverage level at 95%, however I felt that this
									was overly strict. I would rather spend the time writing fewer tests that I ensure
									are of a high quality than writing tests just to cover every single line of code. So
									I reduced the threshold to 80% and added tests to cover the essential missing
									features. Below if my much more healthy looking report.</p>

								<h4>For Desert A report without the red sauce</h4>


								<p>OK maybe I m stretching the food analogy a little too far with my headings now! By
									red sauce I mean those nasty red bars that were blazed across nearly every line of
									the report. Below you can see the report looks much more healthy after adding some
									unit tests and trimming some unused code:</p>

								<p><a href="http://imageshack.com/a/img163/5125/23o5.jpg"><img
											class="alignnone size-full wp-image-32" title="NCover Report - 80% coverage"
											src="http://imageshack.com/a/img163/5125/23o5.jpg" alt="" /></a></p>

								<p>I will endeavour to keep the coverage level at a minimum of 80% from now, and
									hopefully add some more tests to bump off those remaining pesky red bars!</p>

								<p>As usual, any comments on this post are welcome. :)</p>



							</div>

						</article>


						<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
							<div class="meta">
								<div class="date">











									<time datetime="2009-11-16T20:45:00+00:00" data-updated="true"
										itemprop="datePublished">Nov 16<span>th</span>, 2009</time>
								</div>
								<div class="tags">


									<a class='category'
										href='https://bakingwebsites.co.uk/blog/categories/hacking/'>Hacking</a>


								</div>

								<span class="comments"><a
										href="https://bakingwebsites.co.uk/2009/11/16/integrating-the-tinymce-rich-text-editor/#disqus_thread">Comments</a></span>

							</div>
							<h1 class="title" itemprop="name"><a
									href="https://bakingwebsites.co.uk/2009/11/16/integrating-the-tinymce-rich-text-editor/"
									itemprop="url">Integrating the TinyMCE Rich Text Editor</a></h1>
							<div class="entry-content" itemprop="articleBody">
								<p>I ve been working on a page to add method descriptions for the recipes. The most
									simple solution for this would be a large text area allowing the user to add
									multiple lines of text for the recipe method. However I think this would be too
									limiting for the users and also offer poor formatting when the completed recipes are
									viewed. A better solution is to use a rich text editor which allows users to entered
									formatted text and generates HTML to use on the recipe views.</p>

								<p>The editor had to allow the users to enter formatted text including paragraphs, text
									highlighting, numbered and bulleted lists. It was also important that the editor
									could be limited to prevent users entering content which would break the styling of
									the site. For example no image tags should be entered in the method as there is
									already a separate image property for each recipe. Fortunately I ve had experience
									using the <a href="http://tinymce.moxiecode.com/">TinyMCE rich text editor</a> from
									working on <a href="http://n2cms.com/">N2 CMS</a> based websites at work and this
									editor meets all of the requirements.</p>

								<p>Integrating TinyMCE into the site was pretty straightforward, there is detailed
									documentation on the <a href="http://wiki.moxiecode.com/">TinyMCE wiki</a>,
									including installation instructions. Adding the editor to the site is simply a case
									of downloading the assets, including them in the VS project and including a
									javascript call to load the editor in the page header. By default the call
									transforms all text areas into TinyMCE editors. I also found the simple mode
									provided the limited feature set I was looking for. There were just a couple of
									issues to resolve before the editor could be used.</p>

								<h4>Disable Input Validation</h4>


								<p>The editor generates HTML which is posted back to the server when the page is
									submitted. However by default MVC throws an exception as the postback contains HTML
									tags:</p>

								<blockquote><strong>Exception Details:
									</strong>System.Web.HttpRequestValidationException: A potentially dangerous
									Request.Form value was detected from the client (CookingMethod=&#8221;&lt;p&gt;A
									Test method&lt;/p&gt;
									&lt;u&#8230;&#8221;).</blockquote>


								<p>To prevent this exception from being thrown the page validation must be disabled.
									This is done by adding the <em>[ValidateInput(false)]</em> attribute to the
									controllers action method which is called when the page is submitted.</p>

								<h4>Protect Against Unwanted HTML / XSS</h4>


								<p>After making this change the editor content posts back to the server and can be saved
									to the repository. However disabling the input validation leaves the site open to
									cross site scripting (XSS) attacks so some extra precautions need to be put in
									place.
									TinyMCE already checks the content which is posted back, however the wiki points out
									that the editor can be easily disabled by any user by disabling javascript in the
									browser. They recommend that some server side checks are put in place to prevent any
									unwanted tags and scripts from being persisted to the repository.
									I ve added some code to check the recipe method string and strip all unwanted tags.
									It uses a regular expression to allow a subset of tags to be saved. Any other tags
									are replaced by an empty string. I found a good <a
										href="http://stackoverflow.com/questions/307013/how-do-i-filter-all-html-tags-except-a-certain-whitelist">SantizeHTML
										method</a> posted on stack overflow, so no need to reinvent the wheel here!</p>

								<h4>Protect Against CSRF</h4>


								<p>While I was in the area of security I thought I may as well increase the protection
									of the form to cross site request forgery (CSRF) attacks. Steve Sanderson has
									already written a full <a
										href="http://blog.codeville.net/2008/09/01/prevent-cross-site-request-forgery-csrf-using-aspnet-mvcs-antiforgerytoken-helper/">blog
										post</a> on this subject (among others I m sure) so I won t go into detail on
									this. Suffice to say I thought it was worth adding as it only takes 5 minutes and
									provides an extra level of protection which may be needed later.</p>



							</div>

						</article>

					</div>
					<nav id="pagenavi">

						<a href="https://bakingwebsites.co.uk/blog/page/8/" class="prev">Prev</a>


						<a href="https://bakingwebsites.co.uk/blog/page/10/" class="next">Next</a>

						<div class="center"><a href="https://bakingwebsites.co.uk/blog/archives">Blog Archives</a></div>
					</nav>
				</div>
			</div>
			<footer id="footer" class="inner">
				<p>
					Copyright &copy; 2016 - Hook Technologies Ltd -
					<span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
				</p>
			</footer>


			<script type="text/javascript">
				var disqus_shortname = 'bakingwebsites';


				var disqus_script = 'count.js';

				(function () {
					var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
					dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
					(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
				}());
			</script>







			<script type="text/javascript">
				(function () {
					var twitterWidgets = document.createElement('script');
					twitterWidgets.type = 'text/javascript';
					twitterWidgets.async = true;
					twitterWidgets.src = '//platform.twitter.com/widgets.js';
					document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
				})();
			</script>





		</div>
	</div>
</body>

</html>